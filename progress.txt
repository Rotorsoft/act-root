# Progress Log

This file tracks AI-assisted development progress.
Each entry documents: date, feature, decisions, files changed, tests, and concerns.

---

[2026-02-08] #371 chore: replace custom semrel actions with standard semantic-release
- Files: .github/workflows/ci-cd.yml, .github/workflows/deploy-docs.yml, .github/workflows/renovate.yml, libs/act/.releaserc.json, libs/act-pg/.releaserc.json, package.json, pnpm-lock.yaml
- Changes: Replaced rotorsoft/semrel-analyze and rotorsoft/semrel-release with semantic-release + official plugins. Updated all GitHub Actions to latest major versions. Added per-library .releaserc.json configs with semantic-release-monorepo for commit filtering.
- Decisions: Used @semantic-release/exec with pnpm publish (instead of @semantic-release/npm publish) to resolve workspace:* protocol in act-pg dependencies. Preserved existing tag format (@rotorsoft/<lib>-v${version}) via explicit tagFormat. Added git pull --rebase step in CD job so second matrix lib picks up commits from first.
- Issues: Dry-run on feature branch recommended before merging to master. Verify NPM_TOKEN and GITHUB_TOKEN secrets are configured.

[2026-02-08] #371 docs: improve published library README files
- Files: libs/act/README.md, libs/act-pg/README.md
- Changes: Added npm downloads, build status, coverage, and license badges to both library READMEs. Added installation, quick start, and related links sections to act README while preserving all existing documentation. Rewrote act-pg README with full usage docs, configuration table, feature list, and database schema reference.

[2026-02-11] #378 feat: support partial Zod schemas for partial states
- Files: libs/act/src/act-builder.ts, libs/act/test/partial-state.spec.ts, packages/wolfdesk/src/schemas/ticket.state.schemas.ts, packages/wolfdesk/src/ticket-invariants.ts, packages/wolfdesk/src/ticket-creation.ts, packages/wolfdesk/src/ticket-messaging.ts, packages/wolfdesk/src/ticket-operations.ts, packages/wolfdesk/src/ticket.ts, packages/wolfdesk/test/ticket.spec.ts, packages/wolfdesk/test/tickets.spec.ts
- Changes: Added schema merging (baseTypeName, mergeSchemas, mergeInits helpers) to act-builder.ts so each partial state only declares the Zod fields it needs. Schemas are merged via ZodObject.extend() when partials share the same state name, with conflict detection for overlapping keys with different base types. Init functions are merged by spreading results. WolfDesk updated with inline per-slice z.object() schemas in each state declaration and inline inits. Invariants re-typed against minimal interfaces.
- Decisions: Used ZodObject.extend() for schema merging (native Zod v4 API). Used constructor.name + unwrap() for base type comparison. Kept full Ticket schema for backward compat and test type assertions. Invariants typed with minimal interfaces (TypeScript contravariance makes Invariant<SuperType> assignable to Invariant<SubType>).
- Tests: 6 new test cases added to partial-state.spec.ts (partial schema merge, init merge, overlapping keys same type, overlapping keys different types, cross-partial reconstruction, optional wrapping). All 15 partial-state tests pass. All WolfDesk tests pass.
